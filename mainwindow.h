#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include <QMainWindow>
#include <QLabel>
#include <QKeyEvent>
#include <QWidget>
#include <QMessageBox>

namespace Ui {
class MainWindow;
}

class MainWindow : public QMainWindow
{
    Q_OBJECT

public:

    Ui::MainWindow *ui;
    MainWindow(QWidget *parent = 0);

    void keyPressEvent(QKeyEvent *e);

    ~MainWindow();


private:

    void drawLevel();
    void nextLevel();
    void lastLevel();

    void isWin();

    int playerX;//小人坐标
    int playerY;

    int nowLevel;//等级步数记录
    int numberOfLevels;
    int moves;

    QLabel *nowImgs[16][16];//数据数组
    QMessageBox *msgBox;

    int nowContent[16][16];
    int resetContent[16][16];
    /*
    #########################################
    # 地图数组
    # 0 空地
    # 1 路
    # 2 墙
    # 3 目的地
    # 4 箱子
    # 5 完成的箱子
    # 6 玩家
    # 7 在目的地上的玩家
    #########################################
    */
    int levels[15][16][16]=
    {
        {	//LEVEL 1
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,2,1,3,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,2,1,1,2,2,2,0,0,0,0,0},
                {0,0,0,0,0,2,5,6,1,1,2,0,0,0,0,0},
                {0,0,0,0,0,2,1,1,4,1,2,0,0,0,0,0},
                {0,0,0,0,0,2,1,1,2,2,2,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 2
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0},
                {0,0,0,0,2,1,1,1,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,2,6,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,4,5,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,3,5,1,2,0,0,0,0,0,0},
                {0,0,0,0,2,1,1,1,1,2,0,0,0,0,0,0},
                {0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 3
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,2,2,1,1,2,2,2,0,0,0,0,0},
                {0,0,0,2,1,1,1,1,1,4,1,2,0,0,0,0},
                {0,0,0,2,1,2,1,1,2,4,1,2,0,0,0,0},
                {0,0,0,2,1,3,1,3,2,6,1,2,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 4
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0},
                {0,0,0,0,2,1,1,1,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,3,4,3,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,4,6,4,1,2,0,0,0,0,0},
                {0,0,0,2,1,1,3,4,3,1,2,0,0,0,0,0},
                {0,0,0,2,1,1,1,1,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 5
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0},
                {0,0,0,2,1,1,1,1,1,1,2,0,0,0,0,0},
                {0,0,0,2,1,3,5,5,4,6,2,0,0,0,0,0},
                {0,0,0,2,1,1,1,1,1,1,2,0,0,0,0,0},
                {0,0,0,0,2,2,2,2,1,1,2,0,0,0,0,0},
                {0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 6
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,2,3,1,1,2,0,0,0,0,0,0},
                {0,0,0,0,2,1,4,6,4,1,2,0,0,0,0,0},
                {0,0,0,0,2,1,1,4,3,1,2,0,0,0,0,0},
                {0,0,0,0,0,2,1,1,3,2,0,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 7
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,2,2,2,2,2,2,2,2,2,2,2,2,0,0},
                {0,0,2,3,1,1,1,1,1,1,1,1,1,2,0,0},
                {0,0,2,1,2,2,2,1,1,1,1,1,1,2,0,0},
                {0,0,2,1,1,1,3,1,1,1,1,1,1,2,0,0},
                {0,0,2,1,2,2,2,1,1,1,1,1,1,2,0,0},
                {0,0,2,1,1,4,1,4,4,1,1,1,1,2,0,0},
                {0,0,2,3,2,1,1,1,1,1,1,1,6,2,0,0},
                {0,0,2,2,2,2,2,2,2,2,2,2,2,2,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 8
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0},
                {0,0,2,6,1,2,2,2,2,1,1,1,1,1,2,0},
                {0,0,2,1,4,1,2,2,2,1,1,1,1,1,2,0},
                {0,0,2,1,1,4,1,2,2,1,1,1,2,3,2,0},
                {0,0,2,1,3,1,4,1,2,2,1,1,2,2,2,0},
                {0,0,2,1,1,1,1,1,1,1,1,1,1,1,2,0},
                {0,0,2,1,1,1,1,1,1,1,3,1,1,1,2,0},
                {0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 9
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,2,2,1,1,3,2,2,0,0,0,0,0},
                {0,0,0,2,1,3,4,1,4,1,1,2,0,0,0,0},
                {0,0,0,2,1,1,4,6,4,1,1,2,0,0,0,0},
                {0,0,0,2,1,3,1,2,1,1,1,2,0,0,0,0},
                {0,0,0,0,2,2,1,2,3,2,2,0,0,0,0,0},
                {0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 10
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0},
                {0,0,2,6,1,1,2,0,2,2,2,0,0,0,0,0},
                {0,0,2,1,4,4,2,0,2,3,2,2,2,2,0,0},
                {0,0,2,1,1,1,1,2,1,3,1,3,1,2,0,0},
                {0,0,2,2,1,1,1,1,1,1,1,4,1,2,0,0},
                {0,0,0,2,1,1,1,1,1,1,2,2,2,2,0,0},
                {0,0,0,2,1,1,1,2,1,1,2,0,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 11
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,2,2,2,2,2,0,2,2,2,2,2,0,0,0},
                {0,0,2,1,1,1,2,2,2,1,1,1,2,0,0,0},
                {0,0,2,1,5,1,1,6,1,1,4,1,2,0,0,0},
                {0,0,2,1,4,1,1,2,1,5,2,2,2,0,0,0},
                {0,0,2,1,3,2,2,2,1,1,1,3,2,0,0,0},
                {0,0,2,2,2,2,0,2,2,2,2,2,2,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 12
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0},
                {0,2,2,3,1,1,1,1,1,1,1,1,2,2,0,0},
                {0,2,1,2,1,1,1,1,1,1,1,2,1,2,0,0},
                {0,2,1,1,2,1,1,1,1,1,2,1,1,2,0,0},
                {0,2,1,1,4,1,1,1,1,1,1,1,1,2,0,0},
                {0,2,1,1,1,2,2,2,4,2,1,1,1,2,0,0},
                {0,2,4,1,2,6,5,1,1,3,4,1,1,2,0,0},
                {0,2,3,2,2,2,2,2,1,2,1,1,1,2,0,0},
                {0,2,2,3,1,5,1,1,1,1,1,1,1,2,0,0},
                {0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 13
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0},
                {0,0,0,2,3,1,1,1,1,3,2,0,0,0,0,0},
                {0,0,0,2,1,2,1,2,1,2,2,0,0,0,0,0},
                {0,0,0,2,4,1,4,1,4,1,2,0,0,0,0,0},
                {0,0,0,2,3,1,1,1,4,7,2,0,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 14
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0},
                {0,0,2,3,1,3,1,3,1,1,1,3,2,0,0,0},
                {0,0,2,2,4,2,4,2,4,2,1,2,2,0,0,0},
                {0,0,2,1,1,4,1,4,1,4,1,3,2,0,0,0},
                {0,0,2,4,1,1,1,1,1,1,4,1,2,0,0,0},
                {0,0,2,3,2,1,2,7,2,1,2,3,2,0,0,0},
                {0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        },
        {	//LEVEL 15
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2},
                {0,2,3,3,2,3,3,2,2,2,2,2,1,1,1,2},
                {0,2,3,3,2,1,1,1,1,4,1,1,1,4,1,2},
                {0,2,1,1,1,4,1,2,2,2,2,2,1,2,2,2},
                {0,2,1,1,1,1,1,1,1,1,1,1,4,1,1,2},
                {0,2,1,1,2,4,1,1,4,1,1,1,1,1,2,2},
                {0,2,4,4,2,1,4,1,1,1,1,1,1,1,1,2},
                {0,2,3,3,2,1,1,4,4,2,2,4,1,1,1,2},
                {0,2,3,3,2,1,1,1,1,2,7,1,1,2,3,2},
                {0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
        }
    };
private slots:
    void up();
    void down();
    void left();
    void right();
    void on_reload_clicked();
    void on_pushButton_clicked();
    void on_pushButton_2_clicked();
};

#endif // MAINWINDOW_H
